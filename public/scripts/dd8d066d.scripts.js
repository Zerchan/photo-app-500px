"use strict";angular.module("photoApp",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"partials/main",controller:"MainCtrl"}).when("/photo/:photoId",{templateUrl:"partials/photoView",controller:"PhotoViewCtrl"}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]),angular.module("photoApp").controller("MainCtrl",["$scope","photoProvider",function(a,b){a.photoDetailInfo="",a.categories=[{name:"Popular",value:"popular"},{name:"Editor's",value:"editors"},{name:"Fresh Today",value:"fresh_today"}],a.getPhotos=function(c){b.getPhotos(c||"popular").success(function(b){a.photos=b.photos,a.mainTitle=angular.uppercase(b.feature.replace("_"," ")),console.log(b)})},a.getPhotos("popular")}]),angular.module("photoApp").controller("NavbarCtrl",["$scope","$location",function(a,b){a.menu=[{title:"Home",link:"/"}],a.isActive=function(a){return a===b.path()}}]),angular.module("photoApp").controller("PhotoViewCtrl",["$scope","$location","$routeParams","photoProvider",function(a,b,c,d){var e=c.photoId;console.log(e),a.photoDetail=function(b){d.getPhotoDetail(b).success(function(b){a.photoDetailInfo=b.photo})},a.goBack=function(){b.path("/")},a.photoDetail(e)}]),angular.module("photoApp").factory("photoProvider",["$http",function(a){return{getPhotos:function(b){return a.get("https://api.500px.com/v1/photos?consumer_key=nfDUtVBWZ8UotUqgNnDOjf5ep1cJ60X31khHUNMW&feature="+b+"&sort=createdAt&image_size=3")},getPhotoDetail:function(b){return a.get("https://api.500px.com/v1/photos/"+b+"?consumer_key=nfDUtVBWZ8UotUqgNnDOjf5ep1cJ60X31khHUNMW&image_size=4")}}}]),angular.module("photoApp").filter("truncate",function(){return function(a,b,c){return isNaN(b)&&(b=10),void 0===c&&(c="..."),a.length<=b||a.length-c.length<=b?a:String(a).substring(0,b-c.length)+c}});